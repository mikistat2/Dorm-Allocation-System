<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane prefHeight="600.0" prefWidth="800.0" stylesheets="@style.css"
            xmlns="http://javafx.com/javafx/21" 
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.StudentAuthController">

    <children>

        <VBox alignment="CENTER" spacing="30"
              AnchorPane.topAnchor="40" AnchorPane.bottomAnchor="40"
              AnchorPane.leftAnchor="100" AnchorPane.rightAnchor="100"
              styleClass="main-container">

            <!-- Title -->
            <Label text="Student Portal" style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #00b4d8;"/>

            <!-- Auth Tabs -->
            <TabPane fx:id="authTabPane" tabClosingPolicy="UNAVAILABLE" 
                     prefWidth="520" styleClass="tab-pane">

                <!-- LOGIN TAB -->
                <Tab text="Login">
                    <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
                        <content>
                            <VBox alignment="CENTER" spacing="14" style="-fx-padding: 20;">
                                <Label text="Welcome Back" style="-fx-font-size: 24px; -fx-font-weight: bold; -fx-text-fill: #4ecdc4;"/>
                                <TextField fx:id="loginIdField" promptText="Student ID" maxWidth="380" />
                                <PasswordField fx:id="loginPasswordField" promptText="Password" maxWidth="380" />
                                <Label fx:id="loginMessageLabel" styleClass="danger"/>
                                <Button text="Login" onAction="#handleLogin" prefWidth="240" styleClass="action-button"/>
                            </VBox>
                        </content>
                    </ScrollPane>
                </Tab>

                <!-- REGISTER TAB -->
                <Tab text="Register">
                    <ScrollPane fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED">
                        <content>
                            <VBox alignment="CENTER" spacing="12" style="-fx-padding: 20;">
                                <Label text="Create Account" styleClass="header-label accent"/>
                                <TextField fx:id="regNameField" promptText="Full Name" maxWidth="380" styleClass="input-contrast"/>
                                <TextField fx:id="regIdField" promptText="Student ID" maxWidth="380" styleClass="input-contrast"/>
                                <PasswordField fx:id="regPasswordField" promptText="Password" maxWidth="380" styleClass="input-contrast"/>
                                <TextField fx:id="regPhoneField" promptText="Phone" maxWidth="380" styleClass="input-contrast"/>
                                <TextField fx:id="regDeptField" promptText="Department" maxWidth="380" styleClass="input-contrast"/>
                                <!-- Place Gender and Year at the bottom, centered -->
                                <HBox spacing="10" alignment="CENTER">
                                    <ComboBox fx:id="regGenderCombo" promptText="Gender" prefWidth="180" styleClass="combo-box"/>
                                    <TextField fx:id="regYearField" promptText="Year" maxWidth="180" styleClass="input-contrast"/>
                                </HBox>
                                <Label fx:id="regMessageLabel" styleClass="danger"/>
                                <Button text="Register" onAction="#handleRegister" prefWidth="240" styleClass="action-button"/>
                            </VBox>
                        </content>
                    </ScrollPane>
                </Tab>

            </TabPane>

            <Button text="Back to Home" onAction="#handleBack" 
                    styleClass="secondary-btn"/>

        </VBox>
    </children>
</AnchorPane>
