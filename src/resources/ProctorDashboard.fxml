<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane stylesheets="@style.css" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controllers.ProctorDashboardController">

   <children>

      <!-- ================= SIDEBAR ================= -->
      <VBox prefWidth="260" spacing="15" styleClass="sidebar" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="0" AnchorPane.topAnchor="0">

         <Label styleClass="title-label" text="Proctor Dashboard" style="-fx-font-size: 22px;" />

         <!-- Navigation Buttons -->
         <VBox spacing="5" style="-fx-padding: 15 0 0 0;">
            <Button styleClass="action-button" text="Dashboard" prefWidth="220" />
            <Button onAction="#handleStudentsView" styleClass="button" text="Total Students" prefWidth="220" />
            <Button onAction="#handleSettingsView" styleClass="button" text="Settings (Rooms/Blocks)" prefWidth="220" />
         </VBox>

         <VBox VBox.vgrow="ALWAYS" />

         <!-- Logout -->
         <Button onAction="#handleLogout" styleClass="danger-button" text="Logout" prefWidth="220" />

      </VBox>


      <!-- ================= CONTENT AREA ================= -->
      <VBox spacing="25" style="-fx-padding: 35;" AnchorPane.bottomAnchor="0" AnchorPane.leftAnchor="260" AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0">

         <!-- Title -->
         <Label styleClass="title-label" text="Overview" />

         <!-- Statistic Cards -->
         <FlowPane hgap="20" vgap="20">

            <VBox alignment="CENTER" onMouseClicked="#handleTotalClick" prefWidth="200" styleClass="card">
               <Label fx:id="totalStudentsLabel" style="-fx-font-size: 40px; -fx-font-weight: bold; -fx-text-fill: white;" text="0" />
               <Label style="-fx-text-fill: #a0c4ff;" text="Total Students" />
            </VBox>

            <VBox alignment="CENTER" onMouseClicked="#handleAssignedClick" prefWidth="200" styleClass="card">
               <Label fx:id="assignedLabel" style="-fx-font-size: 40px; -fx-font-weight: bold; -fx-text-fill: #4ecdc4;" text="0" />
               <Label style="-fx-text-fill: #a0c4ff;" text="Assigned" />
            </VBox>

            <VBox alignment="CENTER" onMouseClicked="#handleUnassignedClick" prefWidth="200" styleClass="card">
               <Label fx:id="unassignedLabel" style="-fx-font-size: 40px; -fx-font-weight: bold; -fx-text-fill: #ff6b6b;" text="0" />
               <Label style="-fx-text-fill: #a0c4ff;" text="Unassigned" />
            </VBox>

         </FlowPane>

         <!-- Building Overview -->
         <Label styleClass="header-label" text="Building Overview" />

         <!-- Filters -->
         <FlowPane hgap="15" vgap="15">
            <Button fx:id="allBlocksBtn" onAction="#handleFilterAll" styleClass="action-button" text="All Blocks" />
            <Button fx:id="maleBlocksBtn" onAction="#handleFilterMale" styleClass="button" text="Male Blocks" />
            <Button fx:id="femaleBlocksBtn" onAction="#handleFilterFemale" styleClass="button" text="Female Blocks" />
         </FlowPane>

         <!-- Buildings List -->
         <ScrollPane fitToWidth="true" styleClass="scroll-pane" VBox.vgrow="ALWAYS" minHeight="200">
            <content>
               <FlowPane fx:id="buildingsFlowPane" hgap="25" style="-fx-padding: 10;" vgap="25" prefWrapLength="600" />
            </content>
         </ScrollPane>

         <Label styleClass="header-label" text="Quick Actions" />

         <Button onAction="#handleStudentsView" styleClass="action-button" text="Go to Allocation" />

      </VBox>

   </children>

</AnchorPane>
