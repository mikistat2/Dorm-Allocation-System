<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.geometry.Pos?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<AnchorPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controllers.ProctorDashboardController"
            style="-fx-background-color: linear-gradient(to bottom right, #e9f3f7, #ffffff);">

   <children>

      <!-- ================= SIDEBAR ================= -->
      <VBox prefWidth="260"
            spacing="15"
            style="-fx-background-color: rgba(43,88,118,0.95); -fx-padding: 30;"
            AnchorPane.topAnchor="0"
            AnchorPane.bottomAnchor="0"
            AnchorPane.leftAnchor="0">

         <Label text="Proctor Dashboard"
                textFill="white"
                style="-fx-font-size: 22px; -fx-font-weight: bold;"/>

         <!-- Navigation Buttons -->
         <VBox spacing="5" style="-fx-padding: 15 0 0 0;">

            <Button text="Dashboard"
                    style="-fx-background-color: #4ecdc4;
                               -fx-background-radius: 12;
                               -fx-pref-height: 45;
                               -fx-text-fill: white;
                               -fx-font-size: 15px;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 0 0 0 20;" />

            <Button text="Total Students"
                    onAction="#handleStudentsView"
                    style="-fx-background-color: transparent;
                               -fx-text-fill: white;
                               -fx-background-radius: 12;
                               -fx-pref-height: 45;
                               -fx-font-size: 15px;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 0 0 0 20;" />

            <Button text="Settings (Rooms/Blocks)"
                    onAction="#handleSettingsView"
                    style="-fx-background-color: transparent;
                               -fx-text-fill: white;
                               -fx-background-radius: 12;
                               -fx-pref-height: 45;
                               -fx-font-size: 15px;
                               -fx-alignment: CENTER_LEFT;
                               -fx-padding: 0 0 0 20;" />

         </VBox>

         <VBox VBox.vgrow="ALWAYS" />

         <!-- Logout -->
         <Button text="Logout"
                 onAction="#handleLogout"
                 style="-fx-background-color: #ff6b6b;
                           -fx-text-fill: white;
                           -fx-background-radius: 12;
                           -fx-pref-height: 45;" />

      </VBox>


      <!-- ================= CONTENT AREA ================= -->
      <VBox spacing="25"
            AnchorPane.leftAnchor="260"
            AnchorPane.topAnchor="0"
            AnchorPane.rightAnchor="0"
            AnchorPane.bottomAnchor="0"
            style="-fx-padding: 35;">

         <!-- Title -->
         <Label text="Overview"
                style="-fx-font-size: 26px; -fx-text-fill: #2b5876; -fx-font-weight: bold;" />

         <!-- Statistic Cards -->
         <FlowPane hgap="20" vgap="20"
                   prefWrapLength="200">

            <VBox alignment="CENTER"
                  prefWidth="200"
                  style="-fx-background-color: white;
                             -fx-padding: 25;
                             -fx-background-radius: 15;
                             -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.12), 8, 0, 0, 2);
                             -fx-cursor: hand;"
                  onMouseClicked="#handleTotalClick">

               <Label fx:id="totalStudentsLabel"
                      text="0"
                      style="-fx-font-size: 40px; -fx-font-weight: bold; -fx-text-fill: #2b5876;" />

               <Label text="Total Students"
                      style="-fx-text-fill: #6f7f89;" />
            </VBox>


            <VBox alignment="CENTER"
                  prefWidth="200"
                  style="-fx-background-color: white;
                             -fx-padding: 25;
                             -fx-background-radius: 15;
                             -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.12), 8, 0, 0, 2);
                             -fx-cursor: hand;"
                  onMouseClicked="#handleAssignedClick">

               <Label fx:id="assignedLabel"
                      text="0"
                      style="-fx-font-size: 40px; -fx-font-weight: bold; -fx-text-fill: #4ecdc4;" />

               <Label text="Assigned"
                      style="-fx-text-fill: #6f7f89;" />
            </VBox>


            <VBox alignment="CENTER"
                  prefWidth="200"
                  style="-fx-background-color: white;
                             -fx-padding: 25;
                             -fx-background-radius: 15;
                             -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.12), 8, 0, 0, 2);
                             -fx-cursor: hand;"
                  onMouseClicked="#handleUnassignedClick">

               <Label fx:id="unassignedLabel"
                      text="0"
                      style="-fx-font-size: 40px; -fx-font-weight: bold; -fx-text-fill: #ff6b6b;" />

               <Label text="Unassigned"
                      style="-fx-text-fill: #6f7f89;" />
            </VBox>

         </FlowPane>



         <!-- Building Overview -->
         <Label text="Building Overview"
                style="-fx-font-size: 22px; -fx-text-fill: #2b5876; -fx-font-weight: bold;" />

         <!-- Filters -->
         <FlowPane hgap="15" vgap="15">

            <Button fx:id="allBlocksBtn"
                    onAction="#handleFilterAll"
                    text="All Blocks"
                    style="-fx-background-color: #4ecdc4; -fx-text-fill: white;
                               -fx-background-radius: 10; -fx-pref-width: 140;
                               -fx-pref-height: 40; -fx-font-weight: bold;" />

            <Button fx:id="maleBlocksBtn"
                    onAction="#handleFilterMale"
                    text="Male Blocks"
                    style="-fx-background-color: #dfe6e9; -fx-text-fill: #2b5876;
                               -fx-background-radius: 10; -fx-pref-width: 140;
                               -fx-pref-height: 40; -fx-font-weight: bold;" />

            <Button fx:id="femaleBlocksBtn"
                    onAction="#handleFilterFemale"
                    text="Female Blocks"
                    style="-fx-background-color: #dfe6e9; -fx-text-fill: #2b5876;
                               -fx-background-radius: 10; -fx-pref-width: 140;
                               -fx-pref-height: 40; -fx-font-weight: bold;" />

         </FlowPane>


         <!-- Buildings List -->
         <ScrollPane fitToWidth="true"
                     style="-fx-background-color: transparent;"
                     VBox.vgrow="ALWAYS">

            <content>
               <FlowPane fx:id="buildingsFlowPane"
                         hgap="25"
                         vgap="25"
                         style="-fx-padding: 10;" />
            </content>
         </ScrollPane>

         <Label text="Quick Actions"
                style="-fx-font-size: 22px; -fx-text-fill: #2b5876; -fx-font-weight: bold;" />

         <Button text="Go to Allocation"
                 onAction="#handleStudentsView"
                 style="-fx-background-color: #2b5876;
                           -fx-text-fill: white;
                           -fx-background-radius: 10;
                           -fx-pref-height: 50;
                           -fx-pref-width: 220;
                           -fx-font-size: 15px;
                           -fx-font-weight: bold;" />

      </VBox>

   </children>

</AnchorPane>
